<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simulating Data for Power • scienceverse</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Simulating Data for Power">
<meta property="og:description" content="scienceverse">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-160147578-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-160147578-1');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">scienceverse</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9021</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/scienceverse/scienceverse/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Simulating Data for Power</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/scienceverse/scienceverse/blob/HEAD/vignettes/sim.Rmd" class="external-link"><code>vignettes/sim.Rmd</code></a></small>
      <div class="hidden name"><code>sim.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="op">{</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/scienceverse/scienceverse" class="external-link">scienceverse</a></span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/debruine/faux" class="external-link">faux</a></span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
<p>First, I use the <code><a href="https://rdrr.io/pkg/faux/man/sim_design.html" class="external-link">sim_design()</a></code> function from faux to
visualise the design for my proposed study. I’m simulating 30 dog owners
with average happiness score of 10 and an average smugness score of 5,
and 30 cat owners with an average happiness score of 9 and an average
smugness score of 6. Since all have an SD of 2, these are effect sizes
of d = 0.5.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">simdat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/faux/man/sim_design.html" class="external-link">sim_design</a></span><span class="op">(</span></span>
<span>  between <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>pet <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dog"</span>, <span class="st">"cat"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  within <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>emotion <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"happy"</span>, <span class="st">"smug"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  n <span class="op">=</span> <span class="fl">30</span>, <span class="co"># in each between-subject cell</span></span>
<span>  mu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">5</span>, <span class="fl">9</span>, <span class="fl">6</span><span class="op">)</span>,</span>
<span>  sd <span class="op">=</span> <span class="fl">2</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="sim_files/figure-html/unnamed-chunk-2-1.png" width="700"></p>
<p>I can then use this simulated data to plan my analyses.</p>
<p>I’ll use a one-sided, two-sample t-test against a mu of 0 to test if
my hypothesis that dog owners are happier than cat owners is
corroborated</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dog_happy</span> <span class="op">&lt;-</span> <span class="va">simdat</span><span class="op">$</span><span class="va">happy</span><span class="op">[</span><span class="va">simdat</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"dog"</span><span class="op">]</span></span>
<span><span class="va">cat_happy</span> <span class="op">&lt;-</span> <span class="va">simdat</span><span class="op">$</span><span class="va">happy</span><span class="op">[</span><span class="va">simdat</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"cat"</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/t.test.html" class="external-link">t.test</a></span><span class="op">(</span><span class="va">dog_happy</span>, <span class="va">cat_happy</span>, mu <span class="op">=</span> <span class="fl">0</span>, </span>
<span>       alternative <span class="op">=</span> <span class="st">"greater"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  Welch Two Sample t-test</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; data:  dog_happy and cat_happy</span></span>
<span><span class="co">#&gt; t = 2.4711, df = 53.854, p-value = 0.008333</span></span>
<span><span class="co">#&gt; alternative hypothesis: true difference in means is greater than 0</span></span>
<span><span class="co">#&gt; 95 percent confidence interval:</span></span>
<span><span class="co">#&gt;  0.4669045       Inf</span></span>
<span><span class="co">#&gt; sample estimates:</span></span>
<span><span class="co">#&gt; mean of x mean of y </span></span>
<span><span class="co">#&gt; 10.444280  8.997448</span></span></code></pre></div>
<p>I’ll use a one-sided, two-sample t-test against a mu of 0.2 (my
smallest effect size of interest; SESOI) to assess falsification of my
hypothesis.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dog_happy</span> <span class="op">&lt;-</span> <span class="va">simdat</span><span class="op">$</span><span class="va">happy</span><span class="op">[</span><span class="va">simdat</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"dog"</span><span class="op">]</span></span>
<span><span class="va">cat_happy</span> <span class="op">&lt;-</span> <span class="va">simdat</span><span class="op">$</span><span class="va">happy</span><span class="op">[</span><span class="va">simdat</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"cat"</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/t.test.html" class="external-link">t.test</a></span><span class="op">(</span><span class="va">dog_happy</span>, <span class="va">cat_happy</span>, mu <span class="op">=</span> <span class="fl">0.2</span>, </span>
<span>       alternative <span class="op">=</span> <span class="st">"less"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  Welch Two Sample t-test</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; data:  dog_happy and cat_happy</span></span>
<span><span class="co">#&gt; t = 2.1295, df = 53.854, p-value = 0.9811</span></span>
<span><span class="co">#&gt; alternative hypothesis: true difference in means is less than 0.2</span></span>
<span><span class="co">#&gt; 95 percent confidence interval:</span></span>
<span><span class="co">#&gt;     -Inf 2.42676</span></span>
<span><span class="co">#&gt; sample estimates:</span></span>
<span><span class="co">#&gt; mean of x mean of y </span></span>
<span><span class="co">#&gt; 10.444280  8.997448</span></span></code></pre></div>
<p>I’ll use a one-sided, two-sample t-test against a mu of 0 to test if
my hypothesis that cat owners are smugger than dog owners is
corroborated.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dog_smug</span> <span class="op">&lt;-</span> <span class="va">simdat</span><span class="op">$</span><span class="va">smug</span><span class="op">[</span><span class="va">simdat</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"dog"</span><span class="op">]</span></span>
<span><span class="va">cat_smug</span> <span class="op">&lt;-</span> <span class="va">simdat</span><span class="op">$</span><span class="va">smug</span><span class="op">[</span><span class="va">simdat</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"cat"</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/t.test.html" class="external-link">t.test</a></span><span class="op">(</span><span class="va">cat_smug</span>, <span class="va">dog_smug</span>, mu <span class="op">=</span> <span class="fl">0</span>, </span>
<span>       alternative <span class="op">=</span> <span class="st">"greater"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  Welch Two Sample t-test</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; data:  cat_smug and dog_smug</span></span>
<span><span class="co">#&gt; t = 1.7868, df = 52.936, p-value = 0.03985</span></span>
<span><span class="co">#&gt; alternative hypothesis: true difference in means is greater than 0</span></span>
<span><span class="co">#&gt; 95 percent confidence interval:</span></span>
<span><span class="co">#&gt;  0.06651642        Inf</span></span>
<span><span class="co">#&gt; sample estimates:</span></span>
<span><span class="co">#&gt; mean of x mean of y </span></span>
<span><span class="co">#&gt;  6.035758  4.980895</span></span></code></pre></div>
<p>I’ll use a one-sided, two-sample t-test against a mu of 0.2 (my
smallest effect size of interest; SESOI) to assess falsification of my
hypothesis.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dog_smug</span> <span class="op">&lt;-</span> <span class="va">simdat</span><span class="op">$</span><span class="va">smug</span><span class="op">[</span><span class="va">simdat</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"dog"</span><span class="op">]</span></span>
<span><span class="va">cat_smug</span> <span class="op">&lt;-</span> <span class="va">simdat</span><span class="op">$</span><span class="va">smug</span><span class="op">[</span><span class="va">simdat</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"cat"</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/t.test.html" class="external-link">t.test</a></span><span class="op">(</span><span class="va">cat_smug</span>, <span class="va">dog_smug</span>, mu <span class="op">=</span> <span class="fl">0.2</span>, </span>
<span>       alternative <span class="op">=</span> <span class="st">"less"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  Welch Two Sample t-test</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; data:  cat_smug and dog_smug</span></span>
<span><span class="co">#&gt; t = 1.448, df = 52.936, p-value = 0.9232</span></span>
<span><span class="co">#&gt; alternative hypothesis: true difference in means is less than 0.2</span></span>
<span><span class="co">#&gt; 95 percent confidence interval:</span></span>
<span><span class="co">#&gt;      -Inf 2.043209</span></span>
<span><span class="co">#&gt; sample estimates:</span></span>
<span><span class="co">#&gt; mean of x mean of y </span></span>
<span><span class="co">#&gt;  6.035758  4.980895</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">study</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/study.html">study</a></span><span class="op">(</span><span class="st">"Simple Simulation Demo"</span><span class="op">)</span>  <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_hypothesis.html">add_hypothesis</a></span><span class="op">(</span><span class="st">"happy"</span>, <span class="st">"Dog owners will be happier than cat owners."</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_analysis.html">add_analysis</a></span><span class="op">(</span><span class="st">"happy_main"</span>, <span class="op">{</span></span>
<span>    <span class="va">dog_happy</span> <span class="op">&lt;-</span> <span class="va">pet_data</span><span class="op">$</span><span class="va">happy</span><span class="op">[</span><span class="va">pet_data</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"dog"</span><span class="op">]</span></span>
<span>    <span class="va">cat_happy</span> <span class="op">&lt;-</span> <span class="va">pet_data</span><span class="op">$</span><span class="va">happy</span><span class="op">[</span><span class="va">pet_data</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"cat"</span><span class="op">]</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/stats/t.test.html" class="external-link">t.test</a></span><span class="op">(</span><span class="va">dog_happy</span>, <span class="va">cat_happy</span>, mu <span class="op">=</span> <span class="fl">0</span>, alternative <span class="op">=</span> <span class="st">"greater"</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_criterion.html">add_criterion</a></span><span class="op">(</span><span class="st">"happy_c"</span>, <span class="st">"p.value"</span>, <span class="st">"&lt;"</span>, <span class="fl">0.05</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_analysis.html">add_analysis</a></span><span class="op">(</span><span class="st">"happ_equiv"</span>, <span class="op">{</span></span>
<span>    <span class="va">dog_happy</span> <span class="op">&lt;-</span> <span class="va">pet_data</span><span class="op">$</span><span class="va">happy</span><span class="op">[</span><span class="va">pet_data</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"dog"</span><span class="op">]</span></span>
<span>    <span class="va">cat_happy</span> <span class="op">&lt;-</span> <span class="va">pet_data</span><span class="op">$</span><span class="va">happy</span><span class="op">[</span><span class="va">pet_data</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"cat"</span><span class="op">]</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/stats/t.test.html" class="external-link">t.test</a></span><span class="op">(</span><span class="va">dog_happy</span>, <span class="va">cat_happy</span>, mu <span class="op">=</span> <span class="fl">0.2</span>, alternative <span class="op">=</span> <span class="st">"less"</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_criterion.html">add_criterion</a></span><span class="op">(</span><span class="st">"happy_f"</span>, <span class="st">"p.value"</span>, <span class="st">"&lt;"</span>, <span class="fl">0.05</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_eval.html">add_eval</a></span><span class="op">(</span><span class="st">"corroboration"</span>, <span class="st">"happy_c"</span>, <span class="st">"The hypothesis will be corroborated if dog owners are significantly happier than cat owners."</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_eval.html">add_eval</a></span><span class="op">(</span><span class="st">"falsification"</span>, <span class="st">"happy_f"</span>, <span class="st">"The hypothesis will be falsified if dog owners are significantly less than 0.2 units happier than cat owners."</span><span class="op">)</span></span></code></pre></div>
<p>Add a second hypothesis, with all associated analyses, criteria, and
evaluation rules.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">study</span> <span class="op">&lt;-</span> <span class="va">study</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_hypothesis.html">add_hypothesis</a></span><span class="op">(</span><span class="st">"smug"</span>, <span class="st">"Cat owners will be smugger than dog owners."</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_analysis.html">add_analysis</a></span><span class="op">(</span><span class="st">"smug_main"</span>, <span class="op">{</span></span>
<span>    <span class="va">dog_smug</span> <span class="op">&lt;-</span> <span class="va">pet_data</span><span class="op">$</span><span class="va">smug</span><span class="op">[</span><span class="va">pet_data</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"dog"</span><span class="op">]</span></span>
<span>    <span class="va">cat_smug</span> <span class="op">&lt;-</span> <span class="va">pet_data</span><span class="op">$</span><span class="va">smug</span><span class="op">[</span><span class="va">pet_data</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"cat"</span><span class="op">]</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/stats/t.test.html" class="external-link">t.test</a></span><span class="op">(</span><span class="va">cat_smug</span>, <span class="va">dog_smug</span>, mu <span class="op">=</span> <span class="fl">0</span>, alternative <span class="op">=</span> <span class="st">"greater"</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_criterion.html">add_criterion</a></span><span class="op">(</span><span class="st">"smug_c"</span>, <span class="st">"p.value"</span>, <span class="st">"&lt;"</span>, <span class="fl">0.05</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_analysis.html">add_analysis</a></span><span class="op">(</span><span class="st">"smug_equiv"</span>, <span class="op">{</span></span>
<span>    <span class="va">dog_smug</span> <span class="op">&lt;-</span> <span class="va">pet_data</span><span class="op">$</span><span class="va">smug</span><span class="op">[</span><span class="va">pet_data</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"dog"</span><span class="op">]</span></span>
<span>    <span class="va">cat_smug</span> <span class="op">&lt;-</span> <span class="va">pet_data</span><span class="op">$</span><span class="va">smug</span><span class="op">[</span><span class="va">pet_data</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"cat"</span><span class="op">]</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/stats/t.test.html" class="external-link">t.test</a></span><span class="op">(</span><span class="va">cat_smug</span>, <span class="va">dog_smug</span>, mu <span class="op">=</span> <span class="fl">0.2</span>, alternative <span class="op">=</span> <span class="st">"less"</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_criterion.html">add_criterion</a></span><span class="op">(</span><span class="st">"smug_f"</span>, <span class="st">"p.value"</span>, <span class="st">"&lt;"</span>, <span class="fl">0.05</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_eval.html">add_eval</a></span><span class="op">(</span><span class="st">"corroboration"</span>, <span class="st">"smug_c"</span>, <span class="st">"The hypothesis will be corroborated if cat owners are significantly smugger than dog owners."</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_eval.html">add_eval</a></span><span class="op">(</span><span class="st">"falsification"</span>, <span class="st">"smug_f"</span>, <span class="st">"The hypothesis will be falsified if cat owners are significantly less than 0.2 units smugger than dog owners."</span><span class="op">)</span></span></code></pre></div>
<p>Now we can simulate a dataset. Make sure to give it the same
<code>data_id</code> that you used to reference it in the analysis.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">simstudy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_sim_data.html">add_sim_data</a></span><span class="op">(</span></span>
<span>  <span class="va">study</span>,</span>
<span>  data_id <span class="op">=</span> <span class="st">"pet_data"</span>,</span>
<span>  between <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>pet <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dog"</span>, <span class="st">"cat"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  within <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>emotion <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"happy"</span>, <span class="st">"smug"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  n <span class="op">=</span> <span class="fl">30</span>, <span class="co"># in each between-subject cell</span></span>
<span>  mu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">5</span>, <span class="fl">9</span>, <span class="fl">6</span><span class="op">)</span>,</span>
<span>  sd <span class="op">=</span> <span class="fl">2</span></span>
<span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/study_analyse.html">study_analyse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; id set to dataType string</span></span>
<span><span class="co">#&gt; pet set to dataType string</span></span>
<span><span class="co">#&gt; happy set to dataType float</span></span>
<span><span class="co">#&gt; smug set to dataType float</span></span>
<span><span class="co">#&gt; Hypothesis happy: Dog owners will be happier than cat owners.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Criterion happy_c:</span></span>
<span><span class="co">#&gt; * p.value &lt; 0.05 is FALSE</span></span>
<span><span class="co">#&gt; * p.value = 0.131</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Criterion happy_f:</span></span>
<span><span class="co">#&gt; * p.value &lt; 0.05 is FALSE</span></span>
<span><span class="co">#&gt; * p.value = 0.774</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Conclusion: inconclusive</span></span>
<span><span class="co">#&gt; * Corroborate (happy_c): FALSE</span></span>
<span><span class="co">#&gt; * Falsify (happy_f): FALSE</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Hypothesis smug: Cat owners will be smugger than dog owners.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Criterion smug_c:</span></span>
<span><span class="co">#&gt; * p.value &lt; 0.05 is FALSE</span></span>
<span><span class="co">#&gt; * p.value = 0.201</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Criterion smug_f:</span></span>
<span><span class="co">#&gt; * p.value &lt; 0.05 is FALSE</span></span>
<span><span class="co">#&gt; * p.value = 0.687</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Conclusion: inconclusive</span></span>
<span><span class="co">#&gt; * Corroborate (smug_c): FALSE</span></span>
<span><span class="co">#&gt; * Falsify (smug_f): FALSE</span></span></code></pre></div>
<p>Use the <code>study_power</code> function to run the analyses on each
simulated dataset and return the percent of datasets that lead to each
possible conclusion for each hypothesis. You can also increase the
number of replications in the simulation to calculate the power of your
study. This is especially helpful for studies with complex analyses or
evaluation criteria.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">simstudy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/study_power.html">study_power</a></span><span class="op">(</span><span class="va">simstudy</span>, rep <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simulating Datasets...</span></span>
<span><span class="co">#&gt; Running Analyses...</span></span>
<span><span class="co">#&gt; Evaluating Hypotheses...</span></span>
<span><span class="co">#&gt; Hypothesis happy</span></span>
<span><span class="co">#&gt;       corroboration: 62.3%</span></span>
<span><span class="co">#&gt;       falsification: 0.1%</span></span>
<span><span class="co">#&gt;       inconclusive:  37.6%</span></span>
<span><span class="co">#&gt; Hypothesis smug</span></span>
<span><span class="co">#&gt;       corroboration: 59.4%</span></span>
<span><span class="co">#&gt;       falsification: 0.1%</span></span>
<span><span class="co">#&gt;       inconclusive:  40.5%</span></span></code></pre></div>
<p>Use the <code>get_power</code> function to get the results in a list
format. Set <code>values</code> to <code>TRUE</code> to get the
individual values for the analysis results.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">power</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_power.html">get_power</a></span><span class="op">(</span><span class="va">simstudy</span>, values <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># get power for each hypothesis</span></span>
<span><span class="co"># corroboration, falsification, or inconclusive</span></span>
<span><span class="va">happy_power</span> <span class="op">&lt;-</span> <span class="va">power</span><span class="op">$</span><span class="va">power</span><span class="op">$</span><span class="va">happy</span></span>
<span><span class="va">smug_power</span> <span class="op">&lt;-</span> <span class="va">power</span><span class="op">$</span><span class="va">power</span><span class="op">$</span><span class="va">smug</span></span>
<span></span>
<span><span class="co"># get values for specific analysis results</span></span>
<span><span class="va">happy_c</span> <span class="op">&lt;-</span> <span class="va">power</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">happy_main</span><span class="op">$</span><span class="va">p.value</span></span>
<span><span class="va">smug_c</span> <span class="op">&lt;-</span> <span class="va">power</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">smug_main</span><span class="op">$</span><span class="va">p.value</span></span></code></pre></div>
<p><img src="sim_files/figure-html/unnamed-chunk-12-1.png" width="100%"></p>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Lisa DeBruine, Daniel Lakens.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
